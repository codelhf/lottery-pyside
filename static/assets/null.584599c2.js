import{T as r,U as t,E as c}from"./index.3030a0be.js";const i="/pro-api",o=r.create({baseURL:i,timeout:5e4});o.interceptors.request.use(e=>(e.headers["Content-Type"]||(e.headers["Content-Type"]="application/json"),t.getters["user/token"]&&(e.headers["X-Auth-Token"]=t.state.user.token),e),e=>(console.log(e),Promise.reject(e)));o.interceptors.response.use(e=>{const s=e.data;return s.code===200?s:(a(s),Promise.reject(s))},e=>{console.log(e);const s=e.message||e,n=parseInt(s.toString().replace("Error: Request failed with status code ",""));return a({code:n,message:s}),Promise.reject(e)});function a(e){e.code===401||e.code===2001?t.dispatch("user/loginOut"):c({message:e.msg||e.message||"\u670D\u52A1\u5F02\u5E38",type:"error",duration:3*1e3})}var p="./assets/null.d981b549.jpg";export{p as n,o as s};
