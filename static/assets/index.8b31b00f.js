import{D as h,d as T,h as y,K as C,i as v,_ as w,r as m,o as p,c as _,a as g,b as d,w as l,p as b,q as z,e as B,t as N,M as f,N as S,O as P,P as k,Q as I,R as L,S as R,n as A}from"./index.b044c83d.js";function x(e){return h({url:"/prize/list",method:"get",params:e})}function ee(e){return h({url:"/prize/"+e,method:"get",params:{id:e}})}function te(e){return h({url:"/prize",method:"post",data:e})}function ae(e){return h({url:"/prize/"+e.id,method:"put",data:e})}function ne(e){return h({url:"/prize/"+e,method:"delete",params:{ids:e}})}Math.easeInOutQuad=function(e,t,a,s){return e/=s/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var U=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function q(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function M(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function $(e,t,a){const s=M(),u=e-s,r=20;let o=0;t=typeof t=="undefined"?500:t;var i=function(){o+=r;var n=Math.easeInOutQuad(o,s,u,t);q(n),o<t?U(i):a&&typeof a=="function"&&a()};i()}const D=T({name:"TableList",props:{data:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},selected:{type:Array,default:()=>[]},showIndex:{type:Boolean,default:!1},showSelection:{type:Boolean,default:!1},showPage:{type:Boolean,default:!0},pageTotal:{required:!0,type:Number},pageNum:{type:Number,default:1},pageSize:{type:Number,default:20},pageSizes:{type:Array,default:()=>[10,20,50,100]},pageLayout:{type:String,default:"total, sizes, prev, pager, next, jumper"},pageBackground:{type:Boolean,default:!0},pageAutoScroll:{type:Boolean,default:!0}},setup(e,t){const a=y(null);C(()=>{const n=e.selected&&e.selected.length>0;a.value.toggleRowSelection(e.selected,n)});const s=()=>a.value.getSelectionRows().map(c=>c.id),u=v({get:()=>e.pageNum,set:n=>{t.emit("update:pageNum",n)}}),r=v({get:()=>e.pageSize,set:n=>{t.emit("update:pageSize",n)}});function o(n){t.emit("pagination",{pageNum:n,pageSize:r}),e.autoScroll&&$(0,800,null)}function i(n){t.emit("pagination",{pageNum:u,pageSize:n}),e.autoScroll&&$(0,800,null)}return{tableDom:a,getSelectedRowKeys:s,currentPage:u,pageLimit:r,handleCurrentChange:o,handleSizeChange:i}}}),F={class:"system-table-box"},H={class:"system-page-box"};function O(e,t,a,s,u,r){const o=m("el-table-column"),i=m("el-table"),n=m("el-pagination");return p(),_(I,null,[g("div",F,[d(i,S({ref:"tableDom"},e.$attrs,{class:"system-table",data:e.data,loading:e.loading,"highlight-current-row":"",border:"",height:"100%"}),{default:l(()=>[e.showSelection?(p(),b(o,{key:0,type:"selection",align:"center",width:"50"})):z("",!0),e.showIndex?(p(),b(o,{key:1,label:"\u5E8F\u53F7",width:"60",align:"center"},{default:l(c=>[B(N((e.pageNum-1)*e.pageSize+c.$index+1),1)]),_:1})):z("",!0),f(e.$slots,"default",{},void 0,!0)]),_:3},16,["data","loading"])]),g("div",H,[P(d(n,S({class:"system-page",background:e.pageBackground,"page-sizes":e.pageSizes,"current-page":e.currentPage,"onUpdate:current-page":t[0]||(t[0]=c=>e.currentPage=c),"page-size":e.pageLimit,"onUpdate:page-size":t[1]||(t[1]=c=>e.pageLimit=c),layout:e.pageLayout,total:e.pageTotal},e.$attrs,{onCurrentChange:e.handleCurrentChange,onSizeChange:e.handleSizeChange}),null,16,["background","page-sizes","current-page","page-size","layout","total","onCurrentChange","onSizeChange"]),[[k,e.showPage]])])],64)}var oe=w(D,[["render",O],["__scopeId","data-v-6b52f108"]]);const V=T({name:"TableLayout",props:{title:{type:String,default:"\u5217\u8868"}},setup(e,t){const a=L(),s=v(()=>!!a.tree),u=y(null),r=y("--formHeight: 68px");return C(()=>{r.value=`--formHeight: ${u.value.offsetHeight+48}px`}),{hasTree:s,formRef:u,formHeight:r}}}),j={class:"layout-container"},E={class:"layout-container-tree"},Q={key:0,class:"tree-left"},K={class:"layout-container-form",ref:"formRef"};function G(e,t,a,s,u,r){const o=m("el-col"),i=m("el-row"),n=m("el-button-group");return p(),_("div",j,[g("div",E,[e.hasTree?(p(),_("div",Q,[f(e.$slots,"tree",{},void 0,!0)])):z("",!0)]),g("div",{class:A(["layout-container-right",{"has-tree":e.hasTree}])},[g("div",K,[d(i,null,{default:l(()=>[d(o,{span:24},{default:l(()=>[f(e.$slots,"form",{},void 0,!0)]),_:3})]),_:3})],512),g("div",{class:"layout-container-table",ref:"tableRef",style:R(e.formHeight)},[d(i,{class:"title"},{default:l(()=>[d(o,{span:12},{default:l(()=>[g("h3",null,N(e.title),1)]),_:1}),d(o,{span:12},{default:l(()=>[d(n,null,{default:l(()=>[f(e.$slots,"button",{},void 0,!0)]),_:3})]),_:3})]),_:3}),d(i,{class:"table"},{default:l(()=>[d(o,{span:24},{default:l(()=>[f(e.$slots,"table",{},void 0,!0)]),_:3})]),_:3})],4)],2)])}var se=w(V,[["render",G],["__scopeId","data-v-b436fa56"]]);const J={name:"UploadImage",props:{imageUrl:{type:String,default:null}},methods:{beforeAvatarUpload(e){if(!this.isImage(e))return this.$message.error("\u53EA\u80FD\u4E0A\u4F20jpg\u3001png\u3001gif\u683C\u5F0F\u56FE\u7247"),!1;const t=e.size/1024/1024<2;return t||this.$message.error("\u4E0A\u4F20\u5934\u50CF\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC72MB!"),console.log(e),new Date().getTime().toString()+e.name.substr(e.name.lastIndexOf(".")),t},isImage(e){return/\.(jpg|png|gif)$/.test(e.name)}}},W=["src"],X={key:1,class:"el-icon-plus avatar-uploader-icon"};function Y(e,t,a,s,u,r){const o=m("el-upload");return p(),b(o,{class:"avatar-uploader",action:"/","auto-upload":!0,"show-file-list":!1,"before-upload":r.beforeAvatarUpload},{default:l(()=>[a.imageUrl?(p(),_("img",{key:0,src:a.imageUrl,class:"avatar",alt:"avatar"},null,8,W)):(p(),_("i",X))]),_:1},8,["before-upload"])}var re=w(J,[["render",Y]]);export{oe as T,re as U,se as a,ee as b,te as c,ne as d,x as f,ae as u};
